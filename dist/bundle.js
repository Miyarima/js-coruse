(()=>{"use strict";function e(e){document.getElementById("title").innerHTML=e}function t(e){document.getElementById("text").innerHTML=e}function n(e,t,n,r){const c=document.getElementById("btn1"),i=document.getElementById("btn2"),o=document.getElementById("btn3"),d=document.getElementById("btn4");c.innerHTML=e,i.innerHTML=t,o.innerHTML=n,d.innerHTML=r}function r(e){document.getElementById("proceed").innerHTML=e}function c(e,t){const n=document.getElementById("proceed");n.removeEventListener("click",e),n.addEventListener("click",t)}function i(e,t,n){e.removeAttribute("class",t),e.setAttribute("class",n)}function o(e,t,n){const r=document.getElementById("btn1"),c=document.getElementById("btn2"),o=document.getElementById("btn3"),d=document.getElementById("btn4");i(r,e,t),i(c,e,t),i(o,e,t),i(d,e,t),r.addEventListener("click",n),c.addEventListener("click",n),o.addEventListener("click",n),d.addEventListener("click",n)}function d(e,t,r){const c=document.getElementById("btn1"),o=document.getElementById("btn2"),d=document.getElementById("btn3"),s=document.getElementById("btn4");i(c,e,t),i(o,e,t),i(d,e,t),i(s,e,t),c.removeEventListener("click",r),o.removeEventListener("click",r),d.removeEventListener("click",r),s.removeEventListener("click",r),n("","","")}function s(){let e=document.querySelector(".clicked-right");null===e&&(e=document.querySelector(".clicked-wrong")),e.setAttribute("class","btn")}function l(){const e=document.querySelectorAll(".red"),t=document.querySelectorAll(".green");for(const t of e)t.classList.remove("red");for(const e of t)e.classList.remove("green")}function a(e,t,n){const r=document.querySelectorAll(e);for(const e of r)e.removeEventListener("click",t);document.getElementById("proceed").addEventListener("click",n)}function m(e,t,n,r){const c=document.querySelector(e),i=document.createElement("div");i.classList.add(t),i.classList.add(n),i.classList.add("form"),i.addEventListener("click",r),c.appendChild(i)}function u(e,t,n){const r=document.querySelector(e),c=document.createElement("div");c.classList.add(t),c.classList.add("form"),c.addEventListener("click",n),r.appendChild(c)}const f=["465","25 Öre","42 och 24","31 december","Inget av dem"],g=[];let p="1x2",k=0,v=0,b=0,h="";const y=function(){return p},L=function(e){p=e},E=function(){return k},z=function(e){k+=e},B=function(){return v},x=function(){v++},I=function(){v=0},S=function(){return b},q=function(){b++},F=function(){b=0},T=function(){return g},j=function(e){g.push(e)};function M(){z(B()),j(B());const n=T();e(`Du har en IQ på ${3*E()-6}!`),t(`\n        <p>\n        Deltest 1: ${n[0]}/ 15<br>\n        Deltest 2: ${n[1]}/ 3<br>\n        Deltest 3: ${n[2]}/ 9<br>\n        Deltest 4: ${n[3]}/ 10<br>\n        Deltest 5: ${n[4]}/ 5<br>\n        Total fick du ${E()}/42\n        </p>\n    `),document.getElementById("proceed").classList.add("hidden")}let H,$;function A(){!function(){const e=document.querySelector(".form-text"),t=document.querySelectorAll(".form");e.classList.add("hidden");for(const e of t)e.remove()}(),e("Uppfattningsförmåga"),t(`<p>Du fick ${B()} poäng av 5 möjliga</p>`),c(A,M)}function D(e){const t=e.target;t.removeEventListener("click",D),t.classList.contains("red")||t.classList.contains("box")||t.classList.contains("red-tri")?v--:x()}function K(){document.getElementById("proceed").removeEventListener("click",K);const n=document.querySelector(".btn-div");n.style.height="140px",e("Former"),t("<p>Klicka på de korrekta formerna.</p>"),r("Fortsätt"),function(){const e=document.querySelector(".form-text");e.classList.remove("hidden");const t=["1. Har en annan färg än röd.","2. Har en annan form än kvadrat...","3. ...eller är röd och kvadrat"];for(let n=0;n<t.length;n++){const r=document.createElement("p");r.innerHTML=t[n],e.appendChild(r)}}();let c=10;H=setInterval((()=>{0===S()?m(".btn-div","black","box",D):1===S()?m(".btn-div","green","rec",D):2===S()?u(".btn-div","blue-tri",D):3===S()?u(".btn-div","red-tri",D):4===S()?m(".btn-div","red","box",D):5===S()?m(".btn-div","black","rec",D):6===S()?m(".btn-div","blue","box",D):7===S()?u(".btn-div","green-tri",D):8===S()?m(".btn-div","green","box",D):9===S()&&m(".btn-div","blue","rec",D),q(),c--,setTimeout((function(){const e=document.querySelector(".form");null!==e&&e.remove()}),1e3),c<=-1&&(clearInterval(H),n.style.height="10px",a(".form",D,A))}),2e3)}function w(){if(e("Uppfattningsförmåga"),t("<p>Du ska klicka på former. Formen kommer att visas i en sekund, för att sedan försvinna. Nästa form visas en sekund senare. Du kommer att få tre instruktioner om vilka former du ska klicka på. Total är det 10.</p>"),r("Börja"),c(w,K),"comp"===y())z(B()),j(B()),I(),F();else if("perception"===y()){const e=document.querySelector(".form-text"),t=document.querySelector(".btn-div");e.innerHTML="",t.style.height="0px",clearInterval(H)}L("perception")}function N(){!function(){const e=document.querySelector(".form-text"),t=document.querySelectorAll(".form");e.innerHTML="",e.classList.add("hidden");for(const e of t)e.remove()}(),e("Visuell förmåga"),t(`<p>Du fick ${B()} poäng av 10 möjliga</p>`),c(N,w)}function R(e,t,n){const r=document.getElementById(`form${S()+1}`);e.classList.contains(t)&&e.classList.contains(n)?(r.classList.add("green"),x()):r.classList.add("red")}function V(e,t){const n=document.getElementById(`form${S()+1}`);e.classList.contains(t)?(n.classList.add("green"),x()):n.classList.add("red")}function C(e){const t=e.target;0===S()?(document.getElementById("proceed").removeEventListener("click",G),R(t,"red","box")):1===S()?V(t,"blue-tri"):2===S()?R(t,"black","box"):3===S()?R(t,"blue","rec"):4===S()?V(t,"green-tri"):5===S()?R(t,"green","box"):6===S()?R(t,"blue","box"):7===S()?V(t,"red-tri"):8===S()?R(t,"black","rec"):9===S()&&R(t,"green","rec"),q()}function G(){document.getElementById("proceed").removeEventListener("click",G),e("Former"),t("<p>Klicka på den korrekta formen. (15 s)</p>"),r("Fortsätt"),m(".btn-div","black","box",C),m(".btn-div","green","rec",C),u(".btn-div","blue-tri",C),u(".pictures1","red-tri",C),m(".pictures1","red","box",C),m(".pictures1","black","rec",C),m(".pictures2","blue","box",C),u(".pictures2","green-tri",C),m(".pictures2","green","box",C),m(".pictures3","blue","rec",C),function(){const e=document.querySelector(".form-text");e.classList.remove("hidden");const t=["1. Röd Kvadrat","2. Blå Triangel","3. Svart Kvadrat","4. Blå Rektangel","5. Grön Triangel","6. Grön Kvadrat","7. Blå Kvadrat","8. Röd Triangel","9. Svart Rektangel","10. Grön Rektangel"];for(let n=0;n<t.length;n++){const r=document.createElement("p");r.innerHTML=t[n],r.setAttribute("id",`form${n+1}`),e.appendChild(r)}}(),function(){let e=14;$=setInterval((()=>{t(`<p>Klicka på den korrekta formen. (${e} s)</p>`),e--,e<=-1&&(clearInterval($),a(".form",C,N),t("<p>Klicka på den korrekta formen. (0 s)</p>"))}),1e3)}()}function P(){e("Visuell förmåga"),t("<p>10 olika former kommer att visas. Du ska klicka på rätt form enligt den numrerade listan. Du har 15 sekunder på dig. Testet forsätt även om du klickar fel.</p>"),r("Börja"),c(P,G),"memory"===y()?(z(B()),j(B()),I(),F()):"comp"===y()&&(clearInterval($),l(),function(){const e=document.querySelector(".form-text");e.classList.add("hidden"),e.innerHTML=""}(),function(){const e=document.querySelectorAll(".form");for(const t of e)t.remove()}()),L("comp")}function U(){W(),e("Minne"),t(`<p>Du fick ${B()} poäng av 9 möjliga</p>`),c(U,P)}function J(e,t,n){const r=document.getElementById(t);e.id===n?(r.classList.add("green"),x(),8===S()&&a(".img",O,U)):(r.classList.add("red"),a(".img",O,U))}function O(e){const t=e.target;0===S()?(document.getElementById("proceed").removeEventListener("click",X),J(t,"text1","img9")):1===S()?J(t,"text2","img8"):2===S()?J(t,"text3","img5"):3===S()?J(t,"text4","img6"):4===S()?J(t,"text5","img4"):5===S()?J(t,"text6","img7"):6===S()?J(t,"text7","img2"):7===S()?J(t,"text8","img1"):8===S()&&J(t,"text9","img3"),q()}function Q(e){setTimeout((function(){e.src="img/red.png",e.addEventListener("click",O)}),5e3)}function W(){const e=document.querySelectorAll(".img");document.querySelector(".picture-text").classList.add("hidden");for(const t of e)t.classList.add("hidden"),t.style.margin=""}function X(){e("Bilder"),t("<p>Klickade på det matchande paret av text och bild (5 s)</p>"),r("Fortsätt"),function(){const e=document.querySelectorAll(".img");document.querySelector(".picture-text").classList.remove("hidden"),function(){let e=4;const n=setInterval((()=>{t(`<p>Klickade på det matchande paret av text och bild (${e} s)</p>`),e--,e<=-1&&(clearInterval(n),t("<p>Klickade på det matchande paret av text och bild</p>"))}),1e3)}();for(const t of e)t.classList.remove("hidden"),t.style.margin="1em",Q(t)}()}function Y(){e("Minne"),t("<p>Du kommer att få 5 sekunder att bekanta dig med 9 bilder. När tiden är ute kommer bilderna att gömmas och du ska klicka på respektive bilder i den numrerade ordningen.</p>"),r("Börja"),c(Y,X),"fizzbuzz"===y()?(z(3*B()),j(3*B()),I(),F()):"memory"===y()&&(W(),l(),function(){const e=document.querySelectorAll(".img");for(const t of e)"img1"===t.id?t.src="img/dogs.png":"img2"===t.id?t.src="img/hiroshimacastle.jpg":"img3"===t.id?t.src="img/chef.jpg":"img4"===t.id?t.src="img/bike.jpg":"img5"===t.id?t.src="img/cat.jpg":"img6"===t.id?t.src="img/fuji.jpg":"img7"===t.id?t.src="img/lightball.jpg":"img8"===t.id?t.src="img/pepsi.jpg":"img9"===t.id&&(t.src="img/santa.jpg")}()),L("memory")}function Z(e){return e%3==0&&e%5==0?"FizzBuzz":e%3==0?"Fizz":e%5==0?"Buzz":e.toString()}function _(e){document.querySelectorAll(".clicked").length<1&&(e.target.setAttribute("class","clicked"),function(e){document.querySelector(".clicked").innerHTML===h?(e.target.classList.add("clicked-right"),x()):e.target.classList.add("clicked-wrong")}(e)),q()}function ee(){if(0===S()){const c=function(){const e=Math.floor(100*Math.random()),t=[];for(let n=e;n<e+8;n++)t.push(n);return t}(),d=[];for(let e=0;e<c.length;e++)e>6?d.push(" ?"):d.push(` ${Z(c[e])}`);i=Z(c[c.length-1]),h=i,e(""),t(`<p>${d}</p>`),r("Fortsätt"),o("hidden","btn",_),n("Buzz","Fizz",c[c.length-1],"FizzBuzz")}else d("btn","hidden",_),e("FizzBuzz"),t(`<p>Du fick ${3*B()} poäng av 3 möjliga</p>`),c(ee,Y);var i}function te(){e("FizzBuzz"),t('<p>Du kommer att få en sekvens med siffror.</p>\n        <p>Om talet är delbart med 3 byts talet mot "Fizz", om det är delbart med 5 byts talet mot "Buzz". Om båda stämmer blir talet "FizzBuzz".</p>'),d("btn","hidden",_),r("Börja"),c(te,ee),"1x2"===y()&&(z(3*B()),j(3*B()),I(),F()),L("fizzbuzz")}function ne(e){document.querySelectorAll(".clicked").length<1&&(e.target.setAttribute("class","clicked"),function(e,t){document.querySelector(".clicked").innerHTML===f[e]?(t.target.classList.add("clicked-right"),x()):t.target.classList.add("clicked-wrong")}(S(),e)),q()}function re(){S()<1&&(o("hidden","btn",ne),document.getElementById("btn4").classList.add("hidden")),r("Nästa"),0===S()?(e("Första Frågan"),t("<p>Hur mycket är dubbelt av hälften av 465?</p>"),n("232.25","930","465","")):1===S()?(s(),e("Andra Frågan"),t("<p>En flaska med kork kostar 10 kr och 50 öre. Flaskan kostar 10 kr mer än korken. Vad kostar korken?</p>"),n("0","25 Öre","50 Öre","")):2===S()?(s(),e("Tredje Frågan"),t("<p>Pappans och sonens ålder är tillsammans 66 år. Pappans ålder är densamma som sonens, men med siffrorna omvänt.</p>\n            <p>Hur gamla är de?</p>"),n("42 och 24","22 och 44","50 och 16","")):3===S()?(s(),e("Fjärde Frågan"),t("<p>Marcus fyllde 22 år igår. Nästa år fyller han 24 år. När är han född?</p>"),n("1 Januari","29 Juni","31 december","")):4===S()?(s(),e("Femte Frågan"),t("<p>Heter det “en rak kurva” eller heter det “ett rak kurva”?</p>"),n("En","Ett","Inget av dem","")):(s(),d("btn","hidden",ne),e("Tipsfrågor"),t(`<p>Du fick ${3*B()} poäng av 15 möjliga</p>`),c(re,te))}function ce(){e("Tipsfrågor"),t("<p>Du kommer att få 5 frågor, där varje fråga har 3 olika alternativ.</p>\n        <p>Klicka på alternativet du tror är rätt.</p>"),r("Fortsätt"),d("btn","hidden",ne),c(ce,re)}e("Välkommen!"),t("<p>Intelligence testet är uppdelat i 5 olika delar.</p>\n            <p>Tipsfrågor, FizzBuzz, Minne, Visuell förmåga, Uppfattningsförmåga.</p>\n            <p>Poägen samlas ihop i slutet, och du får reda på din IQ.</p>"),document.getElementById("proceed").addEventListener("click",ce),window.reset=function(){I(),console.log(E()),"1x2"===y()?(F(),c(te,ce),ce()):"fizzbuzz"===y()?(F(),c(Y,te),te()):"memory"===y()?(F(),c(P,Y),c(U,Y),Y()):"comp"===y()?(F(),c(w,P),c(N,P),P()):"perception"===y()&&(F(),c(M,w),c(A,w),w())}})();